数据类型

Go语言将数据类型分为四类：**基础类型**、**复合类型**、**引用类型**和**接口类型**。

本章介绍基础类型，包括：数字、字符串和布尔型。

复合数据类型——数组（§4.1）和结构体（§4.2）——是通过组合简单类型，来表达更加复杂的数据结构。

引用类型包括指针（§2.3.2）、切片（§4.2)）、字典（§4.3）、函数（§5）、通道（§8），虽然数据种类很多，但它们都是对程序中一个变量或状态的间接引用。这意味着对任一引用类型数据的修改都会影响所有该引用的拷贝。

我们将在第7章介绍接口类型。



# 1.基础数据类型

![](http://img.kongyixueyuan.com/002%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.jpg)



# 2.make和new

1. `make`用于**内建类型（map、slice 和channel）的内存分配**。

   `new`用于**各种类型的内存分配**。

2. 内建函数`new`本质上说跟其它语言中的同名函数功能一样：new(T)分配了**零值填充**的T类型的内存空间，并且返回其地址，即一个`*T`类型的值。用Go的术语说，它==**返回了一个指针，指向新分配的类型T的零值==**。有一点非常重要：new返回**指针**

3. 内建函数`make(T, args)`与`new(T)`有着不同的功能，**make只能创建slice、map和channel**，并且**返回**一个有==初始值(非零)的T类型==，而不是*T。本质来讲，导致这三个类型有所不同的**原因**是==指向数据结构的引用在使用前必须被初始化==。

   例如，一个slice，是一个包含指向数据（内部array）的指针、长度和容量的三项描述符；在这些项目被初始化之前，slice为nil。对于slice、map和channel来说，make初始化了内部的数据结构，填充适当的值。

   make返回初始化后的**（非零）值**。
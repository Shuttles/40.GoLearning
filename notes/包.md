# 1.为什么使用包

1. 包被用来**组织go源代码**，以便更好地**重用**和**可读性**。包**提供了代码的划分**，因此很容易维护应用程序。

2. 例如，我们正在创建一个go图像处理应用程序，它提供了图像裁剪、锐化、模糊和颜色增强等功能。组织此应用程序的一种方法是将与某个特性相关的所有代码分组到它自己的包中。

   例如，裁剪可以是一个单独的包，锐化可以是另一个包。这样做的好处是，颜色增强功能可能需要一些锐化功能。颜色增强代码可以简单地导入这个锐化包并开始使用它的功能。这样，代码就变得**易于重用。**



# 2.init()和main()

1. Go里面有两个保留的函数： `init` 函数(能够应用于所有的package)和`main`函数(**只能应用于package main**)。
   这两个函数在定义时**不能有任何的参数和返回值**。

   虽然一个package 里面可以写任意多个init函数，但这无论是对于可读性还是以后的可维护性来说，我们都==**强烈建议用户在一个package中每个文件只写一个init函数**==。

2. Go程序会自动调用`init ()`和`main()`,所以你**不需要在任何地方调用这两个函数**。

3. 每个package中的init函数都是**可选**的，但package main就**必须包含一个main 函数**。

4. 程序的初始化和执行都起始于main包。如果main包还导入了其它的包，那么就会在编译时将它们依次导入。

   有时一个包会被多个包同时导入，那么它只会被导入一次(例如很多包可能都会用到fmt包)。当一个包被导入时，如果该包还导入了其它的包，那么会先将其它包导入进来，然后再**对这些包中的包级常量和变量进行初始化**，接着执行init函数(如果有的话)，依次类推。

   等所有被导入的包都加载完毕了，就会开始**对main包中的包级常量和变量进行初始化**，然后执行main包中的init函数(如果存在的话)，最后执行main函数。下图详细地解释了整个执行过程:

   ![](http://img.kongyixueyuan.com/import%20package.png)

   



# 3.main函数和main包

1. 每个可执行的应用程序必须包含一个主函数。这个函数是执行的入口点。主函数应该存在main包中。
2. **指定特定源文件属于包的代码行是`package packagename`。这应该是每个go源文件的第一行。**





# 4.import

1. 我们在写Go代码的时候经常用到import这个命令用来导入包文件，而我们经常看到的方式参考如下:

   ```go
   import (
       "fmt"
   ）
   ```

   然后我们代码里面可以通过如下的方式调用

   ```go
   fmt.Println("hello world")
   ```

   上面这个fmt是Go语言的标准库，其实是去`goroot`下去加载该模块

2. Go的 import还支持如下两种方式来加载自己写的模块:

   1.**相对路径**

   ```go
   import ". /model" //当 前文件同一目录的model目录，但是不建议这种方式来import
   ```

   2.**绝对路径**

   ```go
   import "shorturl/model" //加载gopath/ src/shorturl/model模块
   ```

3. 上面展示了一些import常用的几种方式，但是还有一些特殊的import，让很多新手很费解，下面我们来一一讲解一下到底是怎么一回事：

   1.**点操作**
   我们有时候会看到如下的方式导入包

   ```go
   import (
       . "fmt"
   )
   ```

   这个点操作的含义就是这个包导入之后在你调用这个包的函数时，你可以**省略前缀的包名**，也就是前面你调用的fmt. Println(" hello world") 可以省略的写成Println("hello world")。

   2.**别名操作**
   别名操作顾名思义我们可以把包**命名成另一个我们用起来容易记忆的名字**

   ```go
   import (
       f "fmt"
   )
   ```

   别名操作的话调用包函数时前缀变成了我们的前缀，即f. Println("hello world")。

   3.**`_ `操作**
   这个操作经常是让很多人费解的一个操作符，请看下面这个import

   ```go
   import (
       "database/sq1"
       _ "github.com/ziutek/mymysql/godrv"
   )
   ```

   _操作其实是**引入该包，而不直接使用包里面的函数，而是调用了该包里面的init函数。**

